#*******************************************************************************
# Licensed Materials - Property of IBM
# (c) Copyright IBM Corp. 2025. All Rights Reserved.
#
# Note to U.S. Government Users Restricted Rights:
# Use, duplication or disclosure restricted by GSA ADP Schedule
# Contract with IBM Corp.
#*******************************************************************************

#*******************************************************************************
# This configuration file supports two connection methods to DB2 for z/OS:
#   - ibm_db: Native Python driver using ODBC/CLI (requires configured ODBC)
#   - jdbc: Java-based driver using JDBC (requires db2jcc JAR files)
# 
# Set the 'driver' parameter to your preferred method. For z/OS systems,
# JDBC is often preferred due to SSL support and ease of configuration.
# Environment variables can be used for sensitive data (${VAR_NAME}).
#*******************************************************************************

# =============================================================================
# Database Configuration
# =============================================================================

# Driver to use
driver: ibm_db

# Database schema
schema: DEPLOYZ

# =============================================================================
# IBM DB Driver Configuration (used when driver: ibm_db)
# =============================================================================
ibm_db:
  # Connection string format (for z/OS)
  database: ""
  hostname: ""
  port: ""
  protocol: ""
  uid: ""
  pwd: ""
  
  # Or use environment variables
  # database: ${DB_NAME}
  # hostname: ${DB_HOST}
  # port: ${DB_PORT}
  # uid: ${DB_USER}
  # pwd: ${DB_PASSWORD}

  # Optional: SSL configuration
  #ssl:
  #   enabled: true
  #   ssl_client_keystore_db: c:\clidriver\db2truststore.kdb
  #   ssl_client_keystash: c:\clidriver\db2truststore.sth

# =============================================================================
# JDBC Driver Configuration (used when driver: jdbc)
# =============================================================================
jdbc:
  # JDBC URL
  url: jdbc:db2://jby-workshop-zos-31-ubs:8102/DBD1LOC
  url_options: 
    -  sslConnection=true
    -  sslTrustStoreLocation=/u/ibmuser/db2truststore.jks
    -  sslTrustStorePassword=changeit

  # Credentials
  username: ${DB2_USER}
  password: ${DB2_PASSWORD}
  
  # Driver configuration
  driver_paths: 
    - /u/ibmuser/db2jcc4.jar
    - /u/ibmuser/db2jcc_license_cisuz.jar
  driver_class: com.ibm.db2.jcc.DB2Driver
  
  jvm_args:
    - "-Xmx512m"
  
# =============================================================================
# Logging Configuration
# =============================================================================
logging:
  level: INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  format: '%(asctime)s --- %(name)s - %(levelname)s - %(message)s'
  
  # Optional: log to file
  # file: evidence_loader.log
